!function(){function e(){const e=document.getElementById("lightbox"),t=document.getElementById("lightbox-img"),n=document.getElementById("zoom-level"),c=e.querySelector(".lightbox-close"),o=e.querySelector(".lightbox-prev"),i=e.querySelector(".lightbox-next"),l=document.getElementById("zoom-in"),a=document.getElementById("zoom-out"),s=document.getElementById("rotate-left"),d=document.getElementById("rotate-right"),r=document.getElementById("reset-view"),u=document.querySelectorAll(".gallery-item img");u.length;let m=0,g=1,f=0,v=0,h=0,y=!1,E=null,b=[],L=null,k=null;function p(){t.style.transform=`translate(${v}px, ${h}px) scale(${g}) rotate(${f}deg)`,n.textContent=Math.round(100*g)+"%"}function x(){E=document.activeElement;const n=u[m];t.src=n.src,t.alt=n.alt||"Gallery image",e.classList.add("active"),document.body.style.overflow="hidden",b=Array.from(e.querySelectorAll(["button:not([disabled])","[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])",'[tabindex]:not([tabindex="-1"])'].join(", "))),L=b[0],k=b[b.length-1],I(),A(),B(),setTimeout(()=>{c.focus()},100)}function w(){e.classList.remove("active"),document.body.style.overflow="",E&&E.focus&&E.focus(),I()}function A(){o.disabled=0===m,i.disabled=m===u.length-1}function B(){e.setAttribute("aria-hidden","false"),t.setAttribute("src",u[m].src),t.setAttribute("alt",u[m].alt||"Gallery image "+(m+1))}function I(){g=1,f=0,v=0,h=0,p()}function S(){g<4&&(g=Math.min(g+.25,4),p())}function q(){g>.5&&(g=Math.max(g-.25,.5),p())}function D(){if(m>0){m--;const e=u[m];t.src=e.src,t.alt=e.alt||"Gallery image",I(),A(),B()}}function G(){if(m<u.length-1){m++;const e=u[m];t.src=e.src,t.alt=e.alt||"Gallery image",I(),A(),B()}}u.forEach((e,t)=>{e.src,e.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),m=t,x()}),e.addEventListener("touchend",e=>{e.preventDefault(),e.stopPropagation(),m=t,x()})}),c.addEventListener("click",w),o.addEventListener("click",D),i.addEventListener("click",G),l&&l.addEventListener("click",S),a&&a.addEventListener("click",q),s&&s.addEventListener("click",function(){f-=90,p()}),d&&d.addEventListener("click",function(){f+=90,p()}),r&&r.addEventListener("click",I),document.addEventListener("keydown",t=>{if(e.classList.contains("active"))switch(t.key){case"Escape":w();break;case"ArrowLeft":D();break;case"ArrowRight":G();break;case"+":case"=":S();break;case"-":case"_":q()}});let M=0,X=0,Y=0,$=0;t.addEventListener("mousedown",e=>{g>1&&(y=!0,M=e.clientX,X=e.clientY,Y=v,$=h,t.style.cursor="grabbing",e.preventDefault())}),document.addEventListener("mousemove",e=>{if(y){const t=e.clientX-M,n=e.clientY-X;v=Y+t,h=$+n,p()}}),document.addEventListener("mouseup",()=>{y=!1,t.style.cursor="grab"});let z=0,C=0;t.addEventListener("touchstart",e=>{g>1&&1===e.touches.length&&(z=e.touches[0].clientX,C=e.touches[0].clientY,Y=v,$=h)},{passive:!0}),t.addEventListener("touchmove",e=>{if(g>1&&1===e.touches.length){const t=e.touches[0].clientX-z,n=e.touches[0].clientY-C;v=Y+t,h=$+n,p(),e.preventDefault()}}),e.addEventListener("click",t=>{t.target===e&&w()})}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()}();