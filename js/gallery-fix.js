!function(){"use strict";const e=document.querySelectorAll(".gallery-item img"),t=document.getElementById("lightbox"),o=document.getElementById("lightbox-img"),n=document.querySelector(".lightbox-close"),l=t?t.querySelector(".lightbox-prev"):null,i=t?t.querySelector(".lightbox-next"):null;let r=0;if(e.length,!t||!o)return console.error("[Gallery Fix] Lightbox elements not found!"),console.error("[Gallery Fix] lightbox:",t),void console.error("[Gallery Fix] lightboxImg:",o);function c(){const n=e[r];n.src,o.src=n.src,o.alt=n.alt||"Gallery image",t.classList.add("active"),document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.width="100%",document.body.style.top=`-${window.scrollY}px`,l&&(l.disabled=0===r),i&&(i.disabled=r===e.length-1)}function s(){t.classList.remove("active");const e=document.body.style.top;document.body.style.overflow="",document.body.style.position="",document.body.style.width="",document.body.style.top="",e&&window.scrollTo(0,-1*parseInt(e||"0"))}function a(){r>0&&(r--,c())}function d(){r<e.length-1&&(r++,c())}e.forEach((e,t)=>{function o(e){e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),r=t,c()}e.src,e.style.cursor="pointer",e.removeEventListener("click",o),e.addEventListener("click",o)}),n&&n.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),s()}),l&&l.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),a()}),i&&i.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),d()}),t.addEventListener("click",e=>{(e.target===t||e.target.classList.contains("lightbox-content"))&&(e.preventDefault(),e.stopPropagation(),s())}),document.addEventListener("keydown",e=>{if(t.classList.contains("active"))switch(e.key){case"Escape":e.preventDefault(),e.stopPropagation(),s();break;case"ArrowLeft":e.preventDefault(),e.stopPropagation(),a();break;case"ArrowRight":e.preventDefault(),e.stopPropagation(),d()}})}();