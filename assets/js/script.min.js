!function(){let e=!1,t=!1;function n(){if(e)return;const n=document.querySelector(".hamburger"),o=document.querySelector(".nav-menu");if(!n||!o)return void console.log("Hamburger or navMenu not found");function r(){console.log("Toggle menu called"),n.classList.toggle("active"),o.classList.toggle("active")}console.log("Mobile menu initialized"),e=!0,n.addEventListener("touchstart",function(e){e.preventDefault(),t=!0,r()},{passive:!1}),n.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),t?t=!1:r()});o.querySelectorAll("a").forEach(function(e){e.addEventListener("click",function(){n.classList.remove("active"),o.classList.remove("active")})}),document.addEventListener("click",function(e){n.contains(e.target)||o.contains(e.target)||(n.classList.remove("active"),o.classList.remove("active"))})}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",n):n(),window.addEventListener("load",n)}(),document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector(".lang-dropdown-btn"),t=document.querySelector(".language-dropdown"),n=document.querySelector(".current-lang"),o=document.querySelectorAll(".lang-option");e&&t&&(e.addEventListener("click",function(e){e.stopPropagation();(this.closest(".language-dropdown")||t).classList.toggle("active")}),document.addEventListener("click",function(e){t.contains(e.target)||t.classList.remove("active")}),o.forEach(e=>{e.addEventListener("click",function(e){e.stopPropagation();const o=this.getAttribute("data-lang-switch"),r={en:"EN",he:"Ã—Â¢Ã—â€˜",ar:"Ã˜Â¹",ru:"ÃÂ ÃÂ£"};n&&(n.textContent=r[o]||"EN"),t.classList.remove("active"),"function"==typeof switchLanguage&&switchLanguage(o)})})),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const t=this.getAttribute("href"),n=document.querySelector(t);if(n){const e=document.querySelector(".nav-menu");e&&e.classList.contains("active")&&e.classList.remove("active");const t=document.querySelector(".navbar").offsetHeight,o=n.offsetTop-t;window.scrollTo({top:o,behavior:"smooth"}),document.querySelectorAll(".nav-menu a").forEach(e=>{e.classList.remove("active")}),this.classList.add("active")}})}),window.addEventListener("scroll",function(){const e=document.querySelectorAll("section[id]"),t=document.querySelectorAll(".nav-menu a"),n=document.querySelector(".navbar").offsetHeight;let o="";e.forEach(e=>{const t=e.offsetTop-n-10,r=e.offsetHeight;window.scrollY>=t&&window.scrollY<t+r&&(o=e.getAttribute("id"))}),t.forEach(e=>{e.classList.remove("active"),e.getAttribute("href")==="#"+o&&e.classList.add("active")})});const r=document.querySelector(".cta-btn");r&&r.addEventListener("click",function(e){e.preventDefault();const t=document.querySelector("#menu");if(t){const e=document.querySelector(".navbar")?.offsetHeight||0,n=t.offsetTop-e;window.scrollTo({top:n,behavior:"smooth"})}})}),document.addEventListener("DOMContentLoaded",function(){!function(){const e=document.documentElement.lang||"he-IL",t=new Intl.NumberFormat(e,{style:"currency",currency:"ILS",maximumFractionDigits:0}),n=e=>{const t=String(e||"").replace(/[^0-9.\-]/g,""),n=parseFloat(t);return isNaN(n)?null:n};document.querySelectorAll(".item-price, .category-price").forEach(e=>{e.textContent=(e=>{const o=String(e||"").trim();if(!o)return o;if(o.includes("-")){const e=o.split("-").map(n).filter(e=>null!==e);if(2===e.length)return t.format(e[0])+"Ã¢â‚¬â€œ"+t.format(e[1])}const r=n(o);return null!==r?t.format(r):o})(e.textContent)});const o=/(\d+(?:\.\d+)?)\s*-\s*(\d+(?:\.\d+)?)/g,r=/(\d+(?:\.\d+)?)/g;document.querySelectorAll('[data-format-prices], [data-lang="events-contact"]').forEach(e=>{let n=(e.textContent||"").replace(/\uFFFD/g,"");n=n.replace(o,(e,n,o)=>t.format(parseFloat(n))+"Ã¢â‚¬â€œ"+t.format(parseFloat(o))),n=n.replace(r,e=>t.format(parseFloat(e))),e.textContent=n})}(),document.querySelectorAll("img").forEach(e=>{e.closest(".hero")||(e.hasAttribute("loading")||e.setAttribute("loading","lazy"),e.hasAttribute("decoding")||e.setAttribute("decoding","async"),e.hasAttribute("fetchpriority")||e.setAttribute("fetchpriority","low"))}),function(){const e=document.querySelector('[data-lang="contact-phones"]');if(!e)return;const t=(e.textContent||"").replace(/\uFFFD/g,""),n=[],o=/(0\d{1,2})[-\s]?(\d{3})[-\s]?(\d{4})/g;let r;for(;null!==(r=o.exec(t));)n.push(r[1]+"â€‘"+r[2]+"â€‘"+r[3]);if(n.length){const t=n.map(e=>`<a href="tel:${e.replace(/\u2011/g,"-")}">${e}</a>`);e.innerHTML=t.join(" &nbsp;Ã‚Â·&nbsp; "),e.setAttribute("dir","ltr")}}()}),document.addEventListener("DOMContentLoaded",()=>{const e=(e,t=document)=>t.querySelector(e),t=(e,t=document)=>Array.from(t.querySelectorAll(e));try{!function(){if(e(".skip-link"))return;const t=document.createElement("a");t.className="skip-link",t.href="#menu",t.textContent="Skip to main content",document.body.prepend(t)}()}catch(e){}try{!function(){const n=e(".navbar");n&&n.setAttribute("aria-label","Main navigation");const o=e(".nav-menu");o&&!o.id&&(o.id="primary-menu");const r=e(".hamburger");if(r){r.setAttribute("role","button"),r.setAttribute("tabindex","0"),r.setAttribute("aria-controls","primary-menu"),r.setAttribute("aria-expanded","false");const e=()=>{if(!o)return;const e=o.classList.toggle("active");r.setAttribute("aria-expanded",e?"true":"false")};r.addEventListener("click",e),r.addEventListener("keydown",t=>{"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),e()),"Escape"===t.key&&(o?.classList.remove("active"),r.setAttribute("aria-expanded","false"))})}t('a[href^="#"]').forEach(n=>{n.addEventListener("click",a=>{const c=n.getAttribute("href");if(!c||"#"===c)return;const s=e(c);if(!s)return;a.preventDefault(),o&&o.classList.contains("active")&&(o.classList.remove("active"),r?.setAttribute("aria-expanded","false"));const i=e(".navbar")?.offsetHeight||0,l=Math.max(0,s.offsetTop-i);window.scrollTo({top:l,behavior:"smooth"}),t(".nav-menu a").forEach(e=>e.classList.remove("active")),n.classList.add("active")})});const a=t("section[id]"),c=t(".nav-menu a");let s=!1;window.addEventListener("scroll",()=>{s||(window.requestAnimationFrame(()=>{(()=>{const t=e(".navbar")?.offsetHeight||0;let n="";a.forEach(e=>{const o=e.offsetTop-t-10,r=e.offsetHeight;window.scrollY>=o&&window.scrollY<o+r&&(n=e.id)}),c.forEach(e=>{e.classList.toggle("active",e.getAttribute("href")==="#"+n)})})(),s=!1}),s=!0)},{passive:!0})}()}catch(e){}try{!function(){const n=e(".language-dropdown"),o=e(".lang-dropdown-btn"),r=e(".language-dropdown-content"),a=e(".current-lang"),c=t(".lang-option");if(!n||!o||!r)return;if("1"===n.dataset.enhanced)return;n.dataset.enhanced="1",r.id||(r.id="lang-menu"),o.setAttribute("aria-haspopup","listbox"),o.setAttribute("aria-expanded","false"),o.setAttribute("aria-controls",r.id),o.setAttribute("aria-label","Language");const s=e=>o.setAttribute("aria-expanded",e?"true":"false");o.addEventListener("click",e=>{e.stopPropagation();const t=o.closest(".language-dropdown")||n;t.classList.toggle("active"),s(t.classList.contains("active"))}),document.addEventListener("click",e=>{n.contains(e.target)||(n.classList.remove("active"),s(!1))}),document.addEventListener("keydown",e=>{"Escape"===e.key&&(n.classList.remove("active"),s(!1))}),c.forEach(e=>{e.addEventListener("click",t=>{t.stopPropagation();const o=e.getAttribute("data-lang-switch");c.forEach(e=>e.classList.remove("active")),e.classList.add("active"),a&&(a.textContent={en:"ðŸ‡¬ðŸ‡§ EN",he:"ðŸ‡®ðŸ‡± HE",ar:"ðŸ‡¸ðŸ‡¦ AR",ru:"ðŸ‡·ðŸ‡º RU",el:"ðŸ‡¬ðŸ‡· GR"}[o]||"ðŸ‡®ðŸ‡± HE"),n.classList.remove("active"),s(!1),"function"==typeof switchLanguage&&switchLanguage(o)})})}()}catch(e){}try{document.addEventListener("click",function(e){const t=e.target.closest&&e.target.closest(".lang-dropdown-btn"),n=t&&t.closest(".language-dropdown");if(t&&n)return e.stopPropagation(),void n.classList.toggle("active");document.querySelectorAll(".language-dropdown.active").forEach(e=>e.classList.remove("active"))}),document.addEventListener("keydown",function(e){"Escape"===e.key&&document.querySelectorAll(".language-dropdown.active").forEach(e=>e.classList.remove("active"))})}catch(e){}try{!function(){const t=e(".cta-btn");t&&t.addEventListener("click",t=>{t.preventDefault();const n=e("#menu");if(n){const t=e(".navbar")?.offsetHeight||0,o=Math.max(0,n.offsetTop-t);window.scrollTo({top:o,behavior:"smooth"})}})}()}catch(e){}try{!function(){const e=document.documentElement.lang||"he-IL",n=new Intl.NumberFormat(e,{style:"currency",currency:"ILS",maximumFractionDigits:0}),o=e=>{const t=String(e||"").replace(/[^0-9.\-]/g,""),n=parseFloat(t);return isNaN(n)?null:n};t(".item-price, .category-price").forEach(e=>{e.textContent=(e=>{const t=String(e||"").trim();if(!t)return t;if(t.includes("-")){const e=t.split("-").map(o).filter(e=>null!==e);if(2===e.length)return n.format(e[0])+"Ã¢â‚¬â€œ"+n.format(e[1])}const r=o(t);return null!==r?n.format(r):t})(e.textContent)});const r=/(\d+(?:\.\d+)?)\s*-\s*(\d+(?:\.\d+)?)/g,a=/(\d+(?:\.\d+)?)/g;t('[data-format-prices], [data-lang="events-contact"]').forEach(e=>{let t=(e.textContent||"").replace(/\uFFFD/g,"");t=t.replace(r,(e,t,o)=>n.format(parseFloat(t))+"Ã¢â‚¬â€œ"+n.format(parseFloat(o))),t=t.replace(a,e=>n.format(parseFloat(e))),e.textContent=t})}()}catch(e){}try{t("img").forEach(e=>{e.closest(".hero")||(e.hasAttribute("loading")||e.setAttribute("loading","lazy"),e.hasAttribute("decoding")||e.setAttribute("decoding","async"),e.hasAttribute("fetchpriority")||e.setAttribute("fetchpriority","low"))})}catch(e){}try{!function(){const t=e('[data-lang="contact-phones"]');if(!t)return;const n=(t.textContent||"").replace(/\uFFFD/g,""),o=[],r=/(0\d{1,2})[-\s]?(\d{3})[-\s]?(\d{4})/g;let a;for(;null!==(a=r.exec(n));)o.push(a[1]+"â€‘"+a[2]+"â€‘"+a[3]);if(o.length){const e=o.map(e=>`<a href="tel:${e.replace(/\u2011/g,"-")}">${e}</a>`).join(" &nbsp;Ã‚Â·&nbsp; ");t.innerHTML=e,t.setAttribute("dir","ltr")}}()}catch(e){}try{!function(){const e=document.querySelectorAll(".fade-slide-up");if(!e.length)return;const t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("animate"),t.unobserve(e.target))})},{threshold:.2});e.forEach(e=>t.observe(e))}()}catch(e){console.error("Fade animation error:",e)}try{!function(){const e=document.querySelectorAll(".gallery-item");if(!e.length)return;const t=new IntersectionObserver(n=>{n.forEach((n,o)=>{if(n.isIntersecting){const o=Array.from(e).indexOf(n.target)%6*100;setTimeout(()=>{n.target.classList.add("flip-in")},o),t.unobserve(n.target)}})},{threshold:.1});e.forEach(e=>t.observe(e))}()}catch(e){console.error("Gallery flip animation error:",e)}try{!function(){const e=document.querySelectorAll(".faq-item");e.length&&e.forEach(t=>{const n=t.querySelector(".faq-question");n&&n.addEventListener("click",()=>{const o=t.classList.contains("active");e.forEach(e=>{e!==t&&(e.classList.remove("active"),e.querySelector(".faq-question")?.setAttribute("aria-expanded","false"))}),t.classList.toggle("active"),n.setAttribute("aria-expanded",!o)})})}()}catch(e){console.error("FAQ accordion error:",e)}function n(){if(window.innerWidth>768)return;const e="rtl"===document.documentElement.dir||"he"===document.documentElement.lang;document.querySelectorAll(".menu-subcategory").forEach(t=>{const n=t.querySelectorAll(".menu-card"),o=t.querySelector(".subcategory-title");if(n.length>1&&(t.classList.add("has-more-items"),o&&!o.querySelector(".swipe-hint"))){const t=document.createElement("span");t.className="swipe-hint",t.textContent=e?"ðŸ‘† ×”×—×œ×§":"Swipe ðŸ‘†",o.appendChild(t)}});document.querySelectorAll(".menu-tab-content").forEach(t=>{if(t.querySelector(".menu-subcategory"))return;const n=t.querySelector(".menu-card-grid");if(!n)return;if(n.querySelectorAll(".menu-card").length>1){t.classList.add("has-more-items");const o=t.id;document.querySelector(`.menu-tab[data-tab="${o.replace("tab-","")}"]`);if(!t.querySelector(".swipe-hint-banner")){const o=document.createElement("div");o.className="swipe-hint-banner",o.innerHTML=e?'<span class="swipe-hint">ðŸ‘† ×”×—×œ×§ ×œ×¦×¤×•×ª ×‘×¢×•×“</span>':'<span class="swipe-hint">Swipe for more ðŸ‘†</span>',t.insertBefore(o,n)}}})}try{n()}catch(e){console.error("Menu swipe hints error:",e)}let o;window.addEventListener("resize",function(){clearTimeout(o),o=setTimeout(function(){document.querySelectorAll(".menu-subcategory").forEach(e=>e.classList.remove("has-more-items")),document.querySelectorAll(".menu-tab-content").forEach(e=>e.classList.remove("has-more-items")),document.querySelectorAll(".swipe-hint").forEach(e=>e.remove()),document.querySelectorAll(".swipe-hint-banner").forEach(e=>e.remove());try{n()}catch(e){}},250)})});